<!DOCTYPE html>
<html>
<head>
	<title>Register</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" >
	<style type="text/css">
		input,select{
			width: 300px!important;
			border-radius: 0px!important;
		}
		form{
			margin: 20px auto;
			width: 300px;
			height: 450px;
			text-align: center;
		}
		select{
			height:30px;
		}
		button{
			width: 140px;
			border-radius: 0px!important;
		}
	</style>
</head>
<body>

  {% include "nav.html" %}

<!-- Form -->

<div class="container">
    <div class="row">
        <form name="registration" action="/register" method="POST" onsubmit="return validateForm()">
            {% csrf_token %}
            <input type="text" name="name" placeholder="Full Name" required="" class="form-control"><br>
            <input type="text" name="username" placeholder="Username" required="" class="form-control"><br>
            <input type="email" name="email" id="email" placeholder="Email" required="" class="form-control"><br>
            <input type="tel" name="phone" id="phone" placeholder="Phone Number" required="" class="form-control"><br>
            <input type="password" name="pass1" id="pass1" placeholder="Password" required="" class="form-control"><br>
            <input type="password" name="pass2" id="pass2" placeholder="Confirm Password" required="" class="form-control"><br>

            <div class="form-group">
                <p align="left">Patient or Doctor</p>
                <select name="post">
                    <!-- <option default="">Select Gender</option> -->
                    <option value="Doctor">Doctor</option>
                    <option value="Patient">Patient</option>
                </select><br>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>

<script>
function validateForm() {
    var email = document.forms["registration"]["email"].value;
    var phone = document.forms["registration"]["phone"].value;
    var pass1 = document.forms["registration"]["pass1"].value;
    var pass2 = document.forms["registration"]["pass2"].value;

    var emailPattern = /^[a-zA-Z0-9._-]+@[a-zAZ0-9.-]+\.[a-zA-Z]{2,4}$/;
    var phonePattern = /^\d{10}$/;  // Ensure it contains exactly 10 digits

    if (!emailPattern.test(email)) {
        alert("Please enter a valid email address.");
        return false;
    }

    if (!phonePattern.test(phone)) {
        alert("Phone number should be 10 digits and contain only numbers.");
        return false;
    }

    if (pass1 !== pass2) {
        alert("Passwords do not match.");
        return false;
    }
    
    // Replace this with your server-side registration logic
    // Simulate success for demonstration purposes
    // You should handle this on the server-side
    var registrationSuccessful = true;

    if (registrationSuccessful) {
        alert("Registration successful!");
    }

    return registrationSuccessful;
}
</script>


<!--JS Library -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" ></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" ></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" ></script>
</body>
</html>